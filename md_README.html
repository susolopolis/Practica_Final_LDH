<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PrácticaFinaldeLaboratoriodeDesarrolloyHerramientas: Practica_Final_LDH</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PrácticaFinaldeLaboratoriodeDesarrolloyHerramientas
   </div>
   <div id="projectbrief">Proyectofinaldelaasignatura,realizadoporJesúsNavarroyJoséAntonioFuentes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Practica_Final_LDH </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Práctica final de Laboratorio de Herramientas: Simulador de seguimiento de objetos en el hogar. Realizado por Jesús Navarro Hernández y José Antonio García Fuentes</p>
<h1>**Links de interés**</h1>
<p><b><a href="https://sonarcloud.io/dashboard?id=PruebasUnitarias">Link de SonarCloud</a></b></p>
<p><b><a href="https://susolopolis.github.io/Practica_Final_LDH/">Link de la Documentación</a></b></p>
<h1>**Configuración de la aplicación**</h1>
<h2>**Doxygen**</h2>
<p>Para proceder a la documentación del proyecto se ha escogido la herramienta <b><a href="https://www.doxygen.nl/manual/starting.html">Doxygen</a></b>, cuya principal forma de operar es usando una sintaxis similar al conocido <b>JavaDoc</b>, comentando cada uno de los atributos, métodos, parámetros y clases que conformarán el proyecto. Un ejemplo directo de su uso:</p>
<div class="fragment"><div class="line"></div><div class="line"><span class="keyword">public</span> String mostrarHolaMundo(<span class="keywordtype">boolean</span> mostrar){</div><div class="line">  String mostrar = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(mostrar) {</div><div class="line">    mostrar = <span class="stringliteral">&quot;Hola, Mundo&quot;</span>;</div><div class="line">    System.out.println(<span class="stringliteral">&quot;Hola, Mundo&quot;</span>);</div><div class="line">  }</div><div class="line">  <span class="keywordflow">return</span> mostrar;</div><div class="line">}</div></div><!-- fragment --><p>Una vez realizada la documentación, ésta se generará utilizando la configuración del archivo <b>Doxyfile</b> que se puede encontrar en el repositorio.</p>
<p>No obstante, dada la infraestructura del proyecto, se desea generar la documentación en el último elemento de la cadena, que será con la herramienta de integración continua Travis.</p>
<h2>**JUnit 5**</h2>
<p>La sección de pruebas unitarias de la aplicación se implementó por medio de <b>JUnit</b> en su versión 5, cuya documentación puede encontrarse <b><a href="https://junit.org/junit5/docs/current/user-guide/">aquí</a></b>. Principalmente para su uso se emplearán los métodos de aserción además de las anotaciones pertenecientes a la librería.</p>
<p>Si se desea testar el ejemplo anterior:</p>
<div class="fragment"><div class="line">@Test</div><div class="line"><span class="keyword">public</span> <span class="keywordtype">void</span> testMostrarHolaMundo(){</div><div class="line">  ClaseEjemplo cE = <span class="keyword">new</span> ClaseEjemplo();</div><div class="line">  assertEquals(<span class="stringliteral">&quot;&quot;</span>, cE.mostrarHolaMundo(<span class="keyword">false</span>));</div><div class="line">  assertEquals(<span class="stringliteral">&quot;Hola, Mundo&quot;</span>, cE.mostrarHolaMundo(<span class="keyword">true</span>));</div><div class="line">}</div></div><!-- fragment --><p>Nuevamente, se pretende comprobar la correcta ejecución de todos los test por medio de Maven una vez se haga uso del sistema de integración continua.</p>
<h3>Nota importante</h3>
<p>Cabe destacar que en este proyecto en particular, al tratar de someter a casos de prueba todo el código posible, al disponer esta aplicación de una interfaz gráfica de usuario también se probaron los elementos de ésta. Los test corren de manera satisfactoria de forma local en una máquina estándar con un sistema operativo y software estándar (en este caso se desarrolló empleando el IDE de JetBrains, IntelliJ IDEA bajo Windows 10).</p>
<p>Surgirán problemas no obstante en el momento de correr esta sección de test de la IGU a la hora de correrlos bajo Travis CI, por lo que es importante tener en cuenta el sistema operativo bajo el que correrá la máquina remota y tener en cuenta aspectos como la propiedad <em>headless</em> de Java a la hora de emplear este tipo de pruebas unitarias.</p>
<p>Más información en: <b><a href="https://docs.travis-ci.com/user/gui-and-headless-browsers/#using-xvfb-to-run-tests-that-require-a-gui">Using xvfb to Run Tests That Require a GUI</a></b> así como <b><a href="https://www.oracle.com/technical-resources/articles/javase/headless.html">Using Headless Mode in the Java SE Platform</a></b></p>
<h2>**Maven**</h2>
<p>Para una automatización del proceso de construcción del proyecto se optó por la tecnología de <b><a href="https://maven.apache.org/guides/introduction/introduction-to-the-pom.html">Maven</a></b>, que permitirá una alta configuración por medio de su fichero de configuración **"pom.xml"**. En este caso la configuración se ha basado en la vinculación del proyecto con SonarCloud, de tal forma que se ha de hacer uso de los nombres de la organización en el sitio web; la clave del proyecto; la URL; así como rutas donde se generarán los informes.</p>
<p>Además, se indicarán los plugins necesarios para la ejecución de los test así como las dependencias correspondientes: <b>maven-surefire-plugin</b>, <b>jacoco-maven-plugin</b>; <b>junit-jupiter-api</b>, <b>junit-jupiter-engine</b>.</p>
<h2>SonarCloud</h2>
<p>Como análisis de código en la nube se ha empleado <b><a href="https://sonarcloud.io/documentation">SonarCloud</a></b>, de tal forma que además de la automatización empleada por medio de Maven, también se ha de crear y adaptar el fichero de configuración **"sonar-project.properties"** de tal forma que se indican los parámetros básicos del nombre de la organización; la clave; y la URL.</p>
<p>También se ha de indicar la ruta relativa donde se encuentra el código fuente _(en este caso "./src/main")_ así como la ruta relativa al fichero sonar-project.properties para los binarios del proyecto _("./target/classes")_.</p>
<p>Finalmente, siempre que se desee que SonarCloud actúe y escanee el proyecto, bastará con ejecutar la orden correspondiente <em>sonar-scanner</em> sobre el propio directorio donde se encuentra el fichero de configuración, o bien realizarlo también a través de nuestra herramienta de integración continua seleccionada como es Travis CI.</p>
<h2>git y GitHub</h2>
<p>Para el sistema de control de versiones se optó por las dos opciones más estándar como son <b><a href="https://git-scm.com/doc">git</a></b> para el control de versiones, y **<a href="https://docs.github.com/en/free-pro-team@latest/github/getting-started-with-github">GitHub</a>** para su uso en remoto, de tal forma que ambos miembros del equipo pudieran colaborar y actualizar de manera más eficiente los cambios necesarios para el proyecto, además de hacer uso de las herramientas que se integran automáticamente con la cuenta de GitHub como son <b>SonarCloud</b> y <b>TravisCI</b>, ya que ambas permiten acceder a su página vinculando una cuenta de GitHub para posteriormente poder incorporar los repositorios que se deseen ser analizados.</p>
<h2>Travis CI</h2>
<p>Como fase final de toda la cadena de herramientas empleada, se recurre al sistema de integración continua <b>Travis CI</b> (<b><a href="https://docs.travis-ci.com/user/languages/java/">documentación</a></b>). Para que Travis pueda detectar las operaciones que se desean generar de forma automática cada vez que existan cambios en el repositorio deseado, se usa el fichero de configuración **".travis.yml"**, y en este caso, los elementos que lo conforman son:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;os: linux</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;dist: xenial</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;services:</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  - xvfb</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;# Project JDK</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;language: java</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;jdk:</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  - openjdk11</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;addons:</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  sonarcloud:</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    organization: &quot;susolopolis&quot; # the key of the org you chose at step #3</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    token:</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;      secure: $SONAR_TOKEN # encrypted value of your token</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  apt:</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    packages:</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;      - doxygen</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;script:</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  # other script steps might be done before running the actual analysis</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; - mvn clean verify sonar:sonar -Pcoverage -Dsonar.login=84350fe6a3e3b577c66d5e3aefe27e64e529baf6</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; - doxygen Doxyfile</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;deploy:</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  provider: pages</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  skip_cleanup: true</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  local_dir: docs/html</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  github_token: $GH_REPO_TOKEN</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  on:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    branch: main</div></div><!-- fragment --><p>Básicamente se puede comprobar que se establecen los parámetros para los cuales se configurará la máquina remota sobre la que se ejecutará todo lo deseado. Primeramente se establece que el sistema operativo a utilizar será Linux, y la distribución empleada Xenial (se trata de la versión 16.0.4 LTS de Ubuntu).</p>
<p>Además, se indica uno de los servicios a utilizar: <b>xvfb</b>, el cual será necesario para poder <b>ejecutar pruebas <a href="https://docs.travis-ci.com/user/gui-and-headless-browsers/#using-xvfb-to-run-tests-that-require-a-gui">sobre la IGU</a> de la aplicación</b> y un kit de desarrollo para Java como puede ser openjdk11.</p>
<p>Como añadidos, se indica la instalación de las operaciones para <em>sonarcloud</em> con la clave de la organización así como el token para el proyecto. Además, en apt también se incluirá la orden para generar toda la documentación asociada al proyecto con <b>doxygen</b>.</p>
<p>Posteriormente, se establecen las acciones que la máquina ejecutará, por medio del <em>script</em>: <b>Maven</b> con la orden <em>sonar</em> ; y generación de la documentación <b>doxygen</b> usando el fichero <em>Doxyfile</em>.</p>
<p>Como última parte del fichero se indica dónde se indexará toda la documentación generada. En este caso, se alojará en una subrama creada (llamada <em>gh-pages</em>) en este mismo repositorio de GitHub. Estas indicaciones están basadas en la información indicada en <b><a href="https://gist.github.com/bmegli/e22ba525dda0b197b2d4440d08f43ae2">Doxygen with Travis CI to gh-pages</a></b>.</p>
<p>Con todo lo explicado en este informe, la aplicación se podrá ejecutar y analizar correctamente de una manera muy práctica, eficiente, además de muy completa. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
